<!DOCTYPE html><html lang="en-US" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="File Encryption with GPG" /><meta name="author" content="Tai Le" /><meta property="og:locale" content="en_US" /><meta name="description" content="A week ago, I had a task related to file encryption, the only technology available was GnuPrivacy Guard (GPG) so I took a day to research it. So today I want to summarize what I have learned from this topic." /><meta property="og:description" content="A week ago, I had a task related to file encryption, the only technology available was GnuPrivacy Guard (GPG) so I took a day to research it. So today I want to summarize what I have learned from this topic." /><link rel="canonical" href="https://tailtq.github.io/posts/file-encryption-with-gpg/" /><meta property="og:url" content="https://tailtq.github.io/posts/file-encryption-with-gpg/" /><meta property="og:site_name" content="Tailtq" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-10-12T00:00:00+07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="File Encryption with GPG" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Tai Le" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Tai Le"},"dateModified":"2022-08-07T08:51:41+07:00","datePublished":"2021-10-12T00:00:00+07:00","description":"A week ago, I had a task related to file encryption, the only technology available was GnuPrivacy Guard (GPG) so I took a day to research it. So today I want to summarize what I have learned from this topic.","headline":"File Encryption with GPG","mainEntityOfPage":{"@type":"WebPage","@id":"https://tailtq.github.io/posts/file-encryption-with-gpg/"},"url":"https://tailtq.github.io/posts/file-encryption-with-gpg/"}</script><title>File Encryption with GPG | Tailtq</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Tailtq"><meta name="application-name" content="Tailtq"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-ZB7VQFD7XK"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-ZB7VQFD7XK'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-right"><div id="avatar"> <a href="/" alt="avatar"> <img src="/assets/img/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Tailtq</a></div><div class="site-subtitle">A software developer who enjoys learning, reading, and building things</div></div><hr><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <span>Home</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <span>About me</span> </a><li class="nav-item"> <a href="/interesting-blogs/" class="nav-link"> <span>Interesting blogs</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <span>Archives</span> </a><li class="nav-item"> <a href="https://github.com/tailtq" class="nav-link" target="_blank"> <span>GitHub</span> </a><li class="nav-item}"> <a href="https://www.linkedin.com/in/tai-le-05124a187/" class="nav-link" target="_blank"> <span>Linkedin</span> </a></ul></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>File Encryption with GPG</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>File Encryption with GPG</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Tai Le </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Oct 12, 2021, 12:00 AM +0700" prep="on" > Oct 12, 2021 <i class="unloaded">2021-10-12T00:00:00+07:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Aug 7, 2022, 8:51 AM +0700" prefix="Updated " > Aug 7, 2022 <i class="unloaded">2022-08-07T08:51:41+07:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1230 words">6 min</span></div></div><div class="post-content"><p>A week ago, I had a task related to file encryption, the only technology available was GnuPrivacy Guard (GPG) so I took a day to research it. So today I want to summarize what I have learned from this topic.</p><h2 id="1-introduction">1. Introduction</h2><p>GPG is a complete and free implementation of the OpenPGP standard, which is the most widely used email encryption standard. It helps us to protect our privacy when communicating on the Internet. Just imagine a hacker hacks the financial report of your company and there is no encryption method applied to it, this would be the worst situation that nobody ever wants.</p><h2 id="2-how-it-works">2. How it works</h2><p>Generally, GPG is two-way encryption in which we can encrypt the data on one side and decrypt it on another side. The basic workflow consists of 3 steps:</p><ol><li>Generate a public and private key using the GPG command-line tool<li>Give the public key to the others, have them import the key<li>Encrypt the data using the public key and send it back to us<li>Decrypt the encrypted data using our private key</ol><p>Besides file protection, the digital signature is another application of GPG, but it is out of the scope of this post. You can find out more in the <a href="https://www.gnupg.org/gph/en/manual/x135.html">document</a>.</p><p>In the following section, I will demonstrate and explain each step using Python. Don’t worry if you don’t know Python, you just need to understand the core idea in the code.</p><h4 id="a-setup">a. Setup</h4><p>Let’s go and install the library. From the description, you need Python 2.4 or higher to use it.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>pip <span class="nb">install </span>python-gnupg
</pre></table></code></div></div><h4 id="b-generate-a-public-and-private-keypair">b. Generate a public and private keypair</h4><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">gnupg</span>

<span class="c1"># Initialize the GPG instance with a root folder, where your keys will be stored.
</span><span class="n">gpg</span> <span class="o">=</span> <span class="n">gnupg</span><span class="p">.</span><span class="nc">GPG</span><span class="p">(</span><span class="n">gnupghome</span><span class="o">=</span><span class="s">"/any/folder"</span><span class="p">)</span>
<span class="c1"># A passphrase is needed when you decrypt the data using your private key
# It serves as another authentication layer to verify the private key's owner
</span><span class="n">passphrase</span> <span class="o">=</span> <span class="s">"the_decryption_password"</span>
<span class="n">input_data</span> <span class="o">=</span> <span class="n">gpg</span><span class="p">.</span><span class="nf">gen_key_input</span><span class="p">(</span>
    <span class="c1"># Associate the keypair with owner information
</span>    <span class="c1"># This is just for identification, not for verification
</span>    <span class="n">name_real</span><span class="o">=</span><span class="s">"Tai Le"</span><span class="p">,</span>
    <span class="n">name_email</span><span class="o">=</span><span class="s">"ltquoctaidn98@gmail.com"</span><span class="p">,</span> 
    <span class="c1"># Specify our passphrase here
</span>    <span class="n">passphrase</span><span class="o">=</span><span class="n">passphrase</span><span class="p">,</span>
    <span class="c1"># Encryption method like RSA, DSA, ....
</span>    <span class="c1"># Each type has its own strength
</span>    <span class="n">key_type</span><span class="o">=</span><span class="s">"RSA"</span><span class="p">,</span>
    <span class="c1"># The longer the key length the more secure it is against brute-force attacks
</span>    <span class="c1"># But it has its cost; the more secure, the lower performance
</span>    <span class="n">key_length</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span>
    <span class="c1"># We can also define an expiration date
</span>    <span class="n">expire_date</span><span class="o">=</span><span class="s">"365d"</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># Generate the key
</span><span class="n">key</span> <span class="o">=</span> <span class="n">gpg</span><span class="p">.</span><span class="nf">gen_key</span><span class="p">(</span><span class="n">input_data</span><span class="p">)</span>
<span class="c1"># Dump the key into the variable
</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">gpg</span><span class="p">.</span><span class="nf">export_keys</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
<span class="n">private_key</span> <span class="o">=</span> <span class="n">gpg</span><span class="p">.</span><span class="nf">export_keys</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="bp">True</span><span class="p">,</span> <span class="n">passphrase</span><span class="o">=</span><span class="n">passphrase</span><span class="p">)</span>

<span class="c1"># Export key to files
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="s">"public_key.asc"</span><span class="p">,</span> <span class="s">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">public_key</span><span class="p">)</span>

<span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="s">"private_key.asc"</span><span class="p">,</span> <span class="s">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">private_key</span><span class="p">)</span>
</pre></table></code></div></div><h4 id="c-import-the-public-key-in-another-computer">c. Import the public key in another computer</h4><p>Assume we already gave the public key to another person. You can follow the code below to import it.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">os</span>
<span class="kn">import</span> <span class="n">gnupg</span>

<span class="n">gpg</span> <span class="o">=</span> <span class="n">gnupg</span><span class="p">.</span><span class="nc">GPG</span><span class="p">(</span><span class="n">gnupghome</span><span class="o">=</span><span class="s">"/any/folder2"</span><span class="p">)</span>

<span class="n">file_data</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="s">"public_key.asc"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">).</span><span class="nf">read</span><span class="p">()</span>
<span class="n">input_data</span><span class="p">:</span> <span class="n">gnupg</span><span class="p">.</span><span class="n">ImportResult</span>
<span class="c1"># Import the file
</span><span class="n">input_data</span> <span class="o">=</span> <span class="n">gpg</span><span class="p">.</span><span class="nf">import_keys</span><span class="p">(</span><span class="n">file_data</span><span class="p">)</span>
<span class="c1"># Remember to set trust level to "TRUST_ULTIMATE" to the key. If not, we cannot encrypt files using the key
</span><span class="n">gpg</span><span class="p">.</span><span class="nf">trust_keys</span><span class="p">(</span><span class="n">input_data</span><span class="p">.</span><span class="n">fingerprints</span><span class="p">,</span> <span class="s">"TRUST_ULTIMATE"</span><span class="p">)</span>
<span class="c1"># Check whether the key was imported
</span><span class="nf">print</span><span class="p">(</span><span class="n">gpg</span><span class="p">.</span><span class="nf">list_keys</span><span class="p">())</span>
</pre></table></code></div></div><p>Below is the output of the <code class="language-plaintext highlighter-rouge">print</code> statement:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>[{'type': 'pub', 'trust': 'u', 'length': '1024', 'algo': '1', 'keyid': '3B5294A0FE1941E0', 'date': '1634195983', 'expires': '1665731983', 'dummy': '', 'ownertrust': 'u', 'sig': '', 'cap': 'escaESCA', 'issuer': '', 'flag': '', 'token': '', 'hash': '', 'curve': '', 'compliance': '', 'updated': '', 'origin': '0', 'uids': ['Tai Le &lt;ltquoctaidn98@gmail.com&gt;'], 'sigs': [], 'subkeys': [], 'fingerprint': 'E64FD57C36AE65C34377FE423B5294A0FE1941E0'}
</pre></table></code></div></div><h4 id="d-encrypt-the-data">d. Encrypt the data</h4><p>I will encrypt a PDF file to see if the library works for files other than text.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">gnupg</span>
<span class="kn">import</span> <span class="n">time</span>

<span class="n">gpg</span> <span class="o">=</span> <span class="n">gnupg</span><span class="p">.</span><span class="nc">GPG</span><span class="p">(</span><span class="n">gnupghome</span><span class="o">=</span><span class="s">"/any/folder2"</span><span class="p">)</span>

<span class="n">path</span> <span class="o">=</span> <span class="s">"/home/user/Documents/High performance MySQL optimization, backups, and replication.pdf"</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>

<span class="c1"># We should always use "read binary" here, because it is the input of decrypt_file method
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_stream</span><span class="p">:</span>
    <span class="n">status</span> <span class="o">=</span> <span class="n">gpg</span><span class="p">.</span><span class="nf">encrypt_file</span><span class="p">(</span>
        <span class="n">file_stream</span><span class="p">,</span>
        <span class="c1"># Convert the output file into text for friendly delivering via email and other methods
</span>        <span class="n">armor</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="c1"># Recipient here is to find the appropriate public key among many keys imported
</span>        <span class="c1"># We can define a string or an array of string here. If multiple recipients are passed, the library will attach multiple keyprints of the public keys to the metadata of the encrypted file. So we can have one encrypted file for multiple public keys
</span>        <span class="n">recipients</span><span class="o">=</span><span class="p">[</span><span class="s">"ltquoctaidn98@gmail.com"</span><span class="p">],</span>
        <span class="c1"># Output file
</span>        <span class="n">output</span><span class="o">=</span><span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s">.encrypted"</span><span class="p">,</span>
    <span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="n">ok</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="n">stderr</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"End time:"</span><span class="p">,</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
</pre></table></code></div></div><p>Output:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>True
gpg: WARNING: unsafe permissions on homedir '/home/tai/.gnupg2'
[GNUPG:] KEY_CONSIDERED E64FD57C36AE65C34377FE423B5294A0FE1941E0 0
[GNUPG:] KEY_CONSIDERED E64FD57C36AE65C34377FE423B5294A0FE1941E0 2
[GNUPG:] BEGIN_ENCRYPTION 2 9
[GNUPG:] END_ENCRYPTION

End time: 0.5904629230499268
</pre></table></code></div></div><p>File output:</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/img/2021-10-12/encryption-result.png" alt="/assets/img/2021-10-12/encryption-result.png" /></p><p>As you can see, the file gets encrypted into a lengthy text file. One notable point is that we can encrypt any file extensions, even zip files. I demonstrated with the zipped Webstorm application (~500MB) and it only cost 12 seconds, which is not a considerable amount of time for a heavy file.</p><h4 id="e-decrypt-the-data">e. Decrypt the data</h4><p>When decrypting, the software will use the fingerprints in the encrypted file header to compare. We need to import the private key first (same steps as importing the public key), then we decrypt the file.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">gnupg</span>
<span class="kn">import</span> <span class="n">time</span>

<span class="n">gpg</span> <span class="o">=</span> <span class="n">gnupg</span><span class="p">.</span><span class="nc">GPG</span><span class="p">(</span><span class="n">gnupghome</span><span class="o">=</span><span class="s">"/any/folder"</span><span class="p">)</span>

<span class="c1"># Import the private key
</span><span class="n">file_data</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="s">"private_key.asc"</span><span class="p">,</span> <span class="s">"rb"</span><span class="p">).</span><span class="nf">read</span><span class="p">()</span>
<span class="n">input_data</span><span class="p">:</span> <span class="n">gnupg</span><span class="p">.</span><span class="n">ImportResult</span>
<span class="n">input_data</span> <span class="o">=</span> <span class="n">gpg</span><span class="p">.</span><span class="nf">import_keys</span><span class="p">(</span><span class="n">file_data</span><span class="p">)</span>
<span class="n">gpg</span><span class="p">.</span><span class="nf">trust_keys</span><span class="p">(</span><span class="n">input_data</span><span class="p">.</span><span class="n">fingerprints</span><span class="p">,</span> <span class="s">"TRUST_ULTIMATE"</span><span class="p">)</span>

<span class="c1"># Make sure the result of list_keys method is not empty
</span><span class="nf">print</span><span class="p">(</span><span class="n">gpg</span><span class="p">.</span><span class="nf">list_keys</span><span class="p">(</span><span class="bp">True</span><span class="p">))</span>

<span class="c1"># Specify the encrypted file for decrypting
</span><span class="n">input_path</span> <span class="o">=</span> <span class="s">"/home/tai/Documents/High performance MySQL optimization, backups, and replication.pdf.encrypted"</span>
<span class="n">output_path</span> <span class="o">=</span> <span class="s">"/home/tai/Documents/High performance MySQL optimization, backups, and replication2.pdf"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"the_decryption_password"</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
<span class="c1"># We should always use "read binary" here, because it is the input of decrypt_file method
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">input_path</span><span class="p">,</span> <span class="s">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="c1"># As I already told, we need to detail the passphrase when decrypting
</span>    <span class="n">status</span> <span class="o">=</span> <span class="n">gpg</span><span class="p">.</span><span class="nf">decrypt_file</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">output_path</span><span class="p">,</span> <span class="n">passphrase</span><span class="o">=</span><span class="n">passphrase</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="n">ok</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="n">stderr</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"End time:"</span><span class="p">,</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
</pre></table></code></div></div><p>Output:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre>True
gpg: WARNING: unsafe permissions on homedir '/home/tai/.gnupg2'
[GNUPG:] ENC_TO 3B5294A0FE1941E0 1 0
[GNUPG:] KEY_CONSIDERED E64FD57C36AE65C34377FE423B5294A0FE1941E0 0
[GNUPG:] KEY_CONSIDERED E64FD57C36AE65C34377FE423B5294A0FE1941E0 0
[GNUPG:] DECRYPTION_KEY E64FD57C36AE65C34377FE423B5294A0FE1941E0 E64FD57C36AE65C34377FE423B5294A0FE1941E0 u
[GNUPG:] KEY_CONSIDERED E64FD57C36AE65C34377FE423B5294A0FE1941E0 0
gpg: encrypted with 1024-bit RSA key, ID 3B5294A0FE1941E0, created 2021-10-14
      "Tai Le &lt;ltquoctaidn98@gmail.com&gt;"
[GNUPG:] BEGIN_DECRYPTION
[GNUPG:] DECRYPTION_INFO 2 9
[GNUPG:] PLAINTEXT 62 1634199713 
[GNUPG:] DECRYPTION_OKAY
[GNUPG:] GOODMDC
[GNUPG:] END_DECRYPTION

End time: 1.7071013450622559
</pre></table></code></div></div><h2 id="3-conclusion">3. Conclusion</h2><p>This post already covers the basic implementation of the GPG encryption method. So what is next? You can delve into digital signatures, the algorithms (RSA, DSA, …), cryptographic concepts, and so on.</p><p>So I have achieved my goal, which is writing a summary for GPG encryption. I don’t know when the next post of mine will be released, but I am sure that it must be an interesting topic and worth summarizing.</p><h2 id="4-references">4. References:</h2><ul><li><a href="https://www.gnupg.org/gph/en/manual.html">GPG document</a><li><a href="https://www.youtube.com/watch?v=9NiPwvLCDpM&amp;ab_channel=PracticalPythonSolutions-ByPaulMahon">Python implementation by Paul Mahon</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/back-end/" class="post-tag no-text-decoration" >Back-end</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=File Encryption with GPG - Tailtq&url=https://tailtq.github.io/posts/file-encryption-with-gpg/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=File Encryption with GPG - Tailtq&u=https://tailtq.github.io/posts/file-encryption-with-gpg/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=File Encryption with GPG - Tailtq&url=https://tailtq.github.io/posts/file-encryption-with-gpg/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/asynchronous-programming/">Asynchronous Programming</a><li><a href="/posts/streamlit-a-fast-way-to-build-web-applications/">Streamlit - A Fast Way to Build Web Applications</a><li><a href="/posts/modify-facebook-duckling/">Modify Facebook's Duckling</a><li><a href="/posts/tensorflow-with-amd-ubuntu/">Use Tensorflow with AMD GPU on Ubuntu</a><li><a href="/posts/how-i-reduced-rasa-testing-time-by-60-80/">How I reduced RASA testing time by 60-80%</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/python/">Python</a> <a class="post-tag" href="/tags/ai/">AI</a> <a class="post-tag" href="/tags/back-end/">Back-end</a> <a class="post-tag" href="/tags/database/">Database</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/front-end/">Front-end</a> <a class="post-tag" href="/tags/haskell/">Haskell</a> <a class="post-tag" href="/tags/math/">Math</a> <a class="post-tag" href="/tags/mysql/">MySQL</a> <a class="post-tag" href="/tags/tensorflow/">Tensorflow</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/mysql-explain-json/"><div class="card-body"> <span class="timeago small" > Dec 25, 2021 <i class="unloaded">2021-12-25T00:00:00+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>MySQL Explain JSON</h3><div class="text-muted small"><p> Asides from the tasks that my team is working on in my company, I am also supporting a software architect to find some solutions to optimize the slow SQL queries in several functionalities. And now...</p></div></div></a></div><div class="card"> <a href="/posts/multithreading-vs-multiprocessing/"><div class="card-body"> <span class="timeago small" > Apr 2, 2022 <i class="unloaded">2022-04-02T00:00:00+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Multi-threading vs Multi-processing</h3><div class="text-muted small"><p> At some points, we encounter some problems that make our applications tremendously slow. It could be the amount of computation is large, or accessing multiple resources at the time, or too many tas...</p></div></div></a></div><div class="card"> <a href="/posts/caching/"><div class="card-body"> <span class="timeago small" > May 1, 2022 <i class="unloaded">2022-05-01T00:00:00+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Caching</h3><div class="text-muted small"><p> With an anxious feeling at this moment, I have decided to write a blog article to relieve that feeling. Again, it is all about summarizing things that I have recently worked on, this time is some c...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/pending-machine-learning-journey/" class="btn btn-outline-primary" prompt="Older"><p>I Stopped My Machine Learning Journey</p></a> <a href="/posts/mysql-explain-json/" class="btn btn-outline-primary" prompt="Newer"><p>MySQL Explain JSON</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/username">Tai Le</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/python/">Python</a> <a class="post-tag" href="/tags/ai/">AI</a> <a class="post-tag" href="/tags/back-end/">Back end</a> <a class="post-tag" href="/tags/database/">Database</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/front-end/">Front end</a> <a class="post-tag" href="/tags/haskell/">Haskell</a> <a class="post-tag" href="/tags/math/">Math</a> <a class="post-tag" href="/tags/mysql/">MySQL</a> <a class="post-tag" href="/tags/tensorflow/">Tensorflow</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://tailtq.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
